server:
  port: 8083
  servlet:
    context-path: /user

spring:
  application:
    name: user-service
    profiles:
      active: dev

  shardingsphere:
    datasource:
      names: lottery0,lottery1
      lottery0:
        type: com.alibaba.druid.pool.DruidDataSource
        driver-class-name: com.mysql.cj.jdbc.Driver
        url: jdbc:mysql://10.6.136.57:21500/lottery_0?useUnicode=true&characterEncoding=utf-8&serverTimezone=Asia/Shanghai
        username: root
        password: 123456
      lottery1:
        type: com.alibaba.druid.pool.DruidDataSource
        driver-class-name: com.mysql.cj.jdbc.Driver
        url: jdbc:mysql://10.6.136.57:21500/lottery_1?useUnicode=true&characterEncoding=utf-8&serverTimezone=Asia/Shanghai
        username: root
        password: 123456
    sharding:
      tables:
        user:
          actual-data-node: lottery_$->{0..1}.user_$->{0..2}
          database-strategy:
            inline:
              sharding-column: id
              algorithm-expression: lottery_$->{id%2}
          table-strategy:
            inline:
              sharding-clomn: id
              algorithm-expression: user_$->{id%3}
          key-generator:
            column: id
            type: SNOWFLAKE
#      broadcast-tables: config
    props:
      sql:
        show: true
